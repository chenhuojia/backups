[ 2017-04-10T17:12:34+08:00 ] 104.238.46.37 /Admin.php
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.040539s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.049523s ]
INFO: [ app_begin ] --END-- [ RunTime:0.049582s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000074s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000130s ]
NOTIC: [8] Undefined index: admin /web/www/blog/tp3/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 39 行.
NOTIC: [8] Undefined index: admin /web/www/blog/tp3/Application/Runtime/Cache/Admin/b595b808c2ebeeeb0478ffc30bb4e87a.php 第 39 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.478200s ]
INFO: [ view_parse ] --END-- [ RunTime:0.478256s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.049352s ]
INFO: [ view_filter ] --END-- [ RunTime:0.049424s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000436s ]
INFO: [ app_end ] --END-- [ RunTime:0.000470s ]

[ 2017-04-10T17:12:36+08:00 ] 104.238.46.37 /Admin.php/System/Login.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000300s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.047473s ]
INFO: [ app_begin ] --END-- [ RunTime:0.047544s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000060s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000122s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.321348s ]
INFO: [ view_parse ] --END-- [ RunTime:0.321412s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000248s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.044478s ]
INFO: [ app_end ] --END-- [ RunTime:0.044537s ]

[ 2017-04-10T17:12:48+08:00 ] 104.238.46.37 /Admin.php/System/Verify.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000015s ]
INFO: [ app_init ] --END-- [ RunTime:0.000434s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.047616s ]
INFO: [ app_begin ] --END-- [ RunTime:0.047679s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000531s ]
INFO: [ app_end ] --END-- [ RunTime:0.000604s ]

[ 2017-04-10T17:12:50+08:00 ] 104.238.46.37 /Admin.php/System/Login.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000021s ]
INFO: [ app_init ] --END-- [ RunTime:0.045445s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.046495s ]
INFO: [ app_begin ] --END-- [ RunTime:0.046565s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000060s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000121s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.287681s ]
INFO: [ view_parse ] --END-- [ RunTime:0.287741s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000154s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000177s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.042811s ]
INFO: [ app_end ] --END-- [ RunTime:0.042881s ]

[ 2017-04-10T17:12:57+08:00 ] 104.238.46.37 /Admin.php/System/Login.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000029s ]
INFO: [ app_init ] --END-- [ RunTime:0.046516s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.043620s ]
INFO: [ app_begin ] --END-- [ RunTime:0.043724s ]
SQL: SHOW COLUMNS FROM `bk_admin` [ RunTime:0.0278s ]
NOTIC: [8] Undefined index: validate /web/www/blog/tp3/ThinkPHP/Library/Think/Model.class.php 第 1185 行.
NOTIC: [8] Undefined index: auto /web/www/blog/tp3/ThinkPHP/Library/Think/Model.class.php 第 1128 行.
SQL: SELECT * FROM `bk_admin` WHERE `name` = 'admin' LIMIT 1   [ RunTime:0.0272s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000050s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000113s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.322746s ]
INFO: [ view_parse ] --END-- [ RunTime:0.322810s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000246s ]

[ 2017-04-10T17:13:02+08:00 ] 104.238.46.37 /Admin.php/System/Login.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000294s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.040682s ]
INFO: [ app_begin ] --END-- [ RunTime:0.040753s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.048115s ]
INFO: [ template_filter ] --END-- [ RunTime:0.048253s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.331105s ]
INFO: [ view_parse ] --END-- [ RunTime:0.331157s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.044312s ]
INFO: [ view_filter ] --END-- [ RunTime:0.044373s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000602s ]
INFO: [ app_end ] --END-- [ RunTime:0.000684s ]

[ 2017-04-10T17:13:03+08:00 ] 104.238.46.37 /Admin.php/System/Verify.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000022s ]
INFO: [ app_init ] --END-- [ RunTime:0.047484s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.044689s ]
INFO: [ app_begin ] --END-- [ RunTime:0.044752s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.044743s ]
INFO: [ app_end ] --END-- [ RunTime:0.044846s ]

[ 2017-04-10T17:13:14+08:00 ] 104.238.46.37 /Admin.php/System/Login.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.042342s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.044565s ]
INFO: [ app_begin ] --END-- [ RunTime:0.044662s ]
SQL: SHOW COLUMNS FROM `bk_admin` [ RunTime:0.0262s ]
NOTIC: [8] Undefined index: validate /web/www/blog/tp3/ThinkPHP/Library/Think/Model.class.php 第 1185 行.
NOTIC: [8] Undefined index: auto /web/www/blog/tp3/ThinkPHP/Library/Think/Model.class.php 第 1128 行.
SQL: SELECT * FROM `bk_admin` WHERE `name` = 'admin' LIMIT 1   [ RunTime:0.0300s ]
SQL: update bk_admin set last_login_time= '2017-04-10 17:13:13',login_num=login_num+1,login_ip='172.17.112.146' where id=1 [ RunTime:0.0338s ]

[ 2017-04-10T17:13:16+08:00 ] 104.238.46.37 /Admin.php/Index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000310s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000453s ]
INFO: [ app_begin ] --END-- [ RunTime:0.035543s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000062s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000116s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.302533s ]
INFO: [ view_parse ] --END-- [ RunTime:0.302594s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000282s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.050448s ]
INFO: [ app_end ] --END-- [ RunTime:0.050510s ]

[ 2017-04-10T17:13:19+08:00 ] 104.238.46.37 /Admin.php/Index/welcome.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000016s ]
INFO: [ app_init ] --END-- [ RunTime:0.000467s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.019667s ]
INFO: [ app_begin ] --END-- [ RunTime:0.019741s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000065s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000121s ]
NOTIC: [8] Undefined index: USERNAME /web/www/blog/tp3/Application/Runtime/Cache/Admin/69fa43b310489e974c292babf8eca7e7.php 第 108 行.
NOTIC: [8] Undefined index: PATH /web/www/blog/tp3/Application/Runtime/Cache/Admin/69fa43b310489e974c292babf8eca7e7.php 第 136 行.
NOTIC: [8] Undefined index: USERNAME /web/www/blog/tp3/Application/Runtime/Cache/Admin/69fa43b310489e974c292babf8eca7e7.php 第 196 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.333537s ]
INFO: [ view_parse ] --END-- [ RunTime:0.333607s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000258s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.045652s ]
INFO: [ app_end ] --END-- [ RunTime:0.045714s ]

[ 2017-04-10T17:13:25+08:00 ] 104.238.46.37 /Admin.php/Blog/article.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000306s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.047724s ]
INFO: [ app_begin ] --END-- [ RunTime:0.047811s ]
SQL: SHOW COLUMNS FROM `bk_article` [ RunTime:0.0267s ]
SQL: SHOW COLUMNS FROM `bk_article` [ RunTime:0.0267s ]
SQL: SELECT COUNT(*) AS tp_count FROM `bk_article` LIMIT 1   [ RunTime:0.0264s ]
SQL: SELECT a.*,c.name,c.english FROM bk_article a left join bk_category c on a.cate_id=c.cate_id  LIMIT 0,10   [ RunTime:0.1597s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000098s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000180s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.322950s ]
INFO: [ view_parse ] --END-- [ RunTime:0.323011s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000259s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000548s ]
INFO: [ app_end ] --END-- [ RunTime:0.000614s ]

[ 2017-04-10T17:13:25+08:00 ] 104.238.46.37 /Admin.php/Blog/article.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000018s ]
INFO: [ app_init ] --END-- [ RunTime:0.000412s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000645s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000718s ]
SQL: SHOW COLUMNS FROM `bk_article` [ RunTime:0.0249s ]
SQL: SHOW COLUMNS FROM `bk_article` [ RunTime:0.0248s ]
SQL: SELECT COUNT(*) AS tp_count FROM `bk_article` LIMIT 1   [ RunTime:0.0246s ]
SQL: SELECT a.*,c.name,c.english FROM bk_article a left join bk_category c on a.cate_id=c.cate_id  LIMIT 0,10   [ RunTime:0.1472s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000094s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000195s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.328576s ]
INFO: [ view_parse ] --END-- [ RunTime:0.328633s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.049269s ]
INFO: [ view_filter ] --END-- [ RunTime:0.049323s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.033851s ]
INFO: [ app_end ] --END-- [ RunTime:0.033952s ]

[ 2017-04-10T17:13:34+08:00 ] 104.238.46.37 /Admin.php/Blog/add.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000018s ]
INFO: [ app_init ] --END-- [ RunTime:0.000488s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.039644s ]
INFO: [ app_begin ] --END-- [ RunTime:0.039735s ]
SQL: SHOW COLUMNS FROM `bk_category` [ RunTime:0.0251s ]
SQL: SELECT * FROM `bk_category`  [ RunTime:0.0247s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000078s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000149s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.274551s ]
INFO: [ view_parse ] --END-- [ RunTime:0.274635s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.045393s ]
INFO: [ view_filter ] --END-- [ RunTime:0.045454s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000419s ]
INFO: [ app_end ] --END-- [ RunTime:0.000445s ]

[ 2017-04-10T17:14:03+08:00 ] 104.238.46.37 /Admin.php/Index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000016s ]
INFO: [ app_init ] --END-- [ RunTime:0.000330s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.045745s ]
INFO: [ app_begin ] --END-- [ RunTime:0.045837s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000062s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000119s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.366717s ]
INFO: [ view_parse ] --END-- [ RunTime:0.366800s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000304s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.037784s ]
INFO: [ app_end ] --END-- [ RunTime:0.037884s ]

[ 2017-04-10T17:14:05+08:00 ] 104.238.46.37 /Admin.php/Index/welcome.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000297s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.027584s ]
INFO: [ app_begin ] --END-- [ RunTime:0.027653s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000065s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000122s ]
NOTIC: [8] Undefined index: USERNAME /web/www/blog/tp3/Application/Runtime/Cache/Admin/69fa43b310489e974c292babf8eca7e7.php 第 108 行.
NOTIC: [8] Undefined index: PATH /web/www/blog/tp3/Application/Runtime/Cache/Admin/69fa43b310489e974c292babf8eca7e7.php 第 136 行.
NOTIC: [8] Undefined index: USERNAME /web/www/blog/tp3/Application/Runtime/Cache/Admin/69fa43b310489e974c292babf8eca7e7.php 第 196 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.303897s ]
INFO: [ view_parse ] --END-- [ RunTime:0.303946s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000169s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000192s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.045579s ]
INFO: [ app_end ] --END-- [ RunTime:0.045635s ]

[ 2017-04-10T17:14:10+08:00 ] 104.238.46.37 /Admin.php/Blog/article.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000022s ]
INFO: [ app_init ] --END-- [ RunTime:0.049412s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.041857s ]
INFO: [ app_begin ] --END-- [ RunTime:0.041916s ]
SQL: SHOW COLUMNS FROM `bk_article` [ RunTime:0.0264s ]
SQL: SHOW COLUMNS FROM `bk_article` [ RunTime:0.0263s ]
SQL: SELECT COUNT(*) AS tp_count FROM `bk_article` LIMIT 1   [ RunTime:0.0275s ]
SQL: SELECT a.*,c.name,c.english FROM bk_article a left join bk_category c on a.cate_id=c.cate_id  LIMIT 0,10   [ RunTime:0.1570s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000095s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000167s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.357420s ]
INFO: [ view_parse ] --END-- [ RunTime:0.357480s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000254s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000759s ]
INFO: [ app_end ] --END-- [ RunTime:0.000851s ]

[ 2017-04-10T17:14:27+08:00 ] 104.238.46.37 /Admin.php/Blog/add.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000022s ]
INFO: [ app_init ] --END-- [ RunTime:0.049499s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.043557s ]
INFO: [ app_begin ] --END-- [ RunTime:0.043615s ]
SQL: SHOW COLUMNS FROM `bk_category` [ RunTime:0.0261s ]
SQL: SELECT * FROM `bk_category`  [ RunTime:0.0257s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000067s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000128s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.148966s ]
INFO: [ view_parse ] --END-- [ RunTime:0.149032s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000148s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000174s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.021696s ]
INFO: [ app_end ] --END-- [ RunTime:0.021775s ]

[ 2017-04-10T17:14:32+08:00 ] 104.238.46.37 /Admin.php/Blog/add.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000335s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.046623s ]
INFO: [ app_begin ] --END-- [ RunTime:0.046719s ]
SQL: SHOW COLUMNS FROM `bk_category` [ RunTime:0.0270s ]
SQL: SELECT * FROM `bk_category`  [ RunTime:0.0265s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000076s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000155s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.231696s ]
INFO: [ view_parse ] --END-- [ RunTime:0.231763s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000146s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000169s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.043672s ]
INFO: [ app_end ] --END-- [ RunTime:0.043735s ]

[ 2017-04-10T17:14:53+08:00 ] 104.236.91.224 /Admin.php/Blog/article.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000034s ]
INFO: [ app_init ] --END-- [ RunTime:0.030604s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.045616s ]
INFO: [ app_begin ] --END-- [ RunTime:0.045682s ]
SQL: SHOW COLUMNS FROM `bk_article` [ RunTime:0.0263s ]
SQL: SHOW COLUMNS FROM `bk_article` [ RunTime:0.0262s ]
SQL: SELECT COUNT(*) AS tp_count FROM `bk_article` LIMIT 1   [ RunTime:0.0258s ]
SQL: SELECT a.*,c.name,c.english FROM bk_article a left join bk_category c on a.cate_id=c.cate_id  LIMIT 0,10   [ RunTime:0.1826s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.046174s ]
INFO: [ template_filter ] --END-- [ RunTime:0.046286s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.346713s ]
INFO: [ view_parse ] --END-- [ RunTime:0.346776s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000283s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000701s ]
INFO: [ app_end ] --END-- [ RunTime:0.000784s ]

[ 2017-04-10T17:15:19+08:00 ] 104.236.91.224 /Admin.php/Blog/add.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000311s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000366s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000417s ]
SQL: SHOW COLUMNS FROM `bk_category` [ RunTime:0.0246s ]
SQL: SELECT * FROM `bk_category`  [ RunTime:0.0244s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000068s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000127s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.187848s ]
INFO: [ view_parse ] --END-- [ RunTime:0.187903s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.033558s ]
INFO: [ view_filter ] --END-- [ RunTime:0.033615s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000471s ]
INFO: [ app_end ] --END-- [ RunTime:0.000497s ]

[ 2017-04-10T17:17:05+08:00 ] 104.236.91.224 /Admin.php/Blog/add.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000021s ]
INFO: [ app_init ] --END-- [ RunTime:0.031452s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.050605s ]
INFO: [ app_begin ] --END-- [ RunTime:0.050672s ]
SQL: SHOW COLUMNS FROM `bk_article` [ RunTime:0.0270s ]
NOTIC: [8] Undefined index: validate /web/www/blog/tp3/ThinkPHP/Library/Think/Model.class.php 第 1185 行.
NOTIC: [8] Undefined index: auto /web/www/blog/tp3/ThinkPHP/Library/Think/Model.class.php 第 1128 行.
SQL: INSERT INTO `bk_article` (`title`,`cate_id`,`introduction`,`content`,`addtime`) VALUES ('回调函数的原理及实例','1','回调函数的原理及实例','&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;1 什么是回调&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; background-color: rgb(255, 255, 255); font-size: 18px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;软件模块之间总是存在着一定的接口，从调用方式上，可以把他们分为三类：同步调用、回调和异步调用。同步调用是一种阻塞式调用，调用方要等待对方执行完毕才返回，它是一种单向调用；回调是一种双向调用模式，也就是说，被调用方在接口被调用时也会调用对方的接口；异步调用是一种类似消息或事件的机制，不过它的调用方向刚好相反，接口的服务在收到某种讯息或发生某种事件时，会主动通知客户方（即调用客户方的接口）。回调和异步调用的关系非常紧密，通常我们使用回调来实现异步消息的注册，通过异步调用来实现消息的通知。同步调用是三者当中最简单的，而回调又常常是异步调用的基础，因此，下面我们着重讨论回调机制在不同软件架构中的实现。&lt;br/&gt;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 对于不同类型的语言（如结构化语言和对象语言）、平台（Win32、JDK）或构架（CORBA、DCOM、WebService），客户和服务的交互除了同步方式以外，都需要具备一定的异步通知机制，让服务方（或接口提供方）在某些情况下能够主动通知客户，而回调是实现异步的一个最简捷的途径。对于一般的结构化语言，可以通过回调函数来实现回调。回调函数也是一个函数或过程，不过它是一个由调用方自己实现，供被调用方使用的特殊函数。&lt;br/&gt;在面向对象的语言中，回调则是通过接口或抽象类来实现的，我们把实现这种接口的类成为回调类，回调类的对象成为回调对象。对于象C++或Object Pascal这些兼容了过程特性的对象语言，不仅提供了回调对象、回调方法等特性，也能兼容过程语言的回调函数机制。Windows平台的消息机制也可以看作是回调的一种应用，我们通过系统提供的接口注册消息处理函数（即回调函数），从而实现接收、处理消息的目的。由于Windows平台的API是用C语言来构建的，我们可以认为它也是回调函数的一个特例。对于分布式组件代理体系CORBA，异步处理有多种方式，如回调、事件服务、通知服务等。事件服务和通知服务是CORBA用来处理异步消息的标准服务，他们主要负责消息的处理、派发、维护等工作。对一些简单的异步处理过程，我们可以通过回调机制来实现。&lt;br/&gt;&lt;br/&gt;2 PHP的回调函数的实现方法&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;2.1 全局函数的回调&lt;br/&gt;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;这里的全局函数的意思，是直接使用function定义的函数，它不包含在任何对象或类之中。请看下面的例子&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;function fnCallBack( $msg1 , $msg2 )&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; echo &amp;#39;msg1:&amp;#39;.$msg1;&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;echo &amp;quot;&amp;lt;br /&amp;gt;\\n&amp;quot;;&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;echo &amp;#39;msg2:&amp;#39;.$msg2;&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;}&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; background-color: rgb(255, 255, 255); font-size: 18px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$fnName = &amp;quot;fnCallBack&amp;quot;; //方法名&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$params = array( &amp;#39;hello&amp;#39; , &amp;#39;world&amp;#39; );//传给参数的值&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;call_user_func_array( $fnName , $params );&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;结果：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;img src=&quot;http://img.blog.csdn.net/20150816155242022?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center&quot; alt=&quot;&quot; style=&quot;border: none; max-width: 100%;&quot;/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; background-color: rgb(255, 255, 255); font-size: 18px;&quot;&gt;代码说明：&lt;br/&gt;&amp;nbsp; &amp;nbsp; 这里使用了PHP内置的函数call_user_func_array来进行调用。call_user_func_array有两个参数，第1个参数是一个字符串，表示要调用的函数名，第2个参数是一个数组，表示参数列表，按照顺序依次会传递给要调用的函数。&lt;br/&gt;&lt;br/&gt;2.2 类的静态方法的回调&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;如果我们要回调的方法，是一个类的静态方法，那怎么办呢？我们依然可以利用PHP内置的call_user_func_array方法来进行调用，请看示例：&lt;br/&gt;示例代码：&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;class MyClass&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;public static function fnCallBack( $msg1 , $msg2 )&lt;br/&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;echo &amp;#39;msg1:&amp;#39;.$msg1;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; echo &amp;quot;&amp;lt;br /&amp;gt;\\n&amp;quot;;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; echo &amp;#39;msg2:&amp;#39;.$msg2;&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;}&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;}&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$className = &amp;#39;MyClass&amp;#39;; //类名&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$fnName = &amp;quot;fnCallBack&amp;quot;;//类中的方法名&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$params = array( &amp;#39;hello&amp;#39; , &amp;#39;world&amp;#39; );//传给参数的值&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;call_user_func_array( array( $className , $fnName ) , $params );&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;结果：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;img src=&quot;http://img.blog.csdn.net/20150816155609236?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center&quot; alt=&quot;&quot; style=&quot;border: none; max-width: 100%;&quot;/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; background-color: rgb(255, 255, 255); font-size: 18px;&quot;&gt;代码说明：&lt;br/&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;这段代码和第1种方法的代码很相似，我们将类名（MyClass）也作为call_user_func_array的第1个参数传递进去，就可以实现类的静态方法的回调了。注意，这时call_user_func_array的第1个参数是一个数组了，数组的第1个元素是类名，第二个元素是要调用的函数名&lt;br/&gt;&lt;br/&gt;如果我用这种方法调用一个类的非静态方法（也就是把static去掉），会出现什么结果呢？请看下面代码&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;class MyClass&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; public function fnCallBack( $msg1 , $msg2 )&lt;br/&gt;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp; {&lt;br/&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; &amp;nbsp; echo &amp;#39;msg1:&amp;#39;.$msg1;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp; echo &amp;quot;&amp;lt;br /&amp;gt;\\n&amp;quot;;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp; echo &amp;#39;msg2:&amp;#39;.$msg2;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; }&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;}&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$className = &amp;#39;MyClass&amp;#39;;&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$fnName = &amp;quot;fnCallBack&amp;quot;;&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$params = array( &amp;#39;hello&amp;#39; , &amp;#39;world&amp;#39; );&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;call_user_func_array( array( $className , $fnName ) , $params );&lt;br/&gt;最终运行的结果跟原来一样&lt;br/&gt;&lt;img src=&quot;http://img.blog.csdn.net/20150816155746257?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center&quot; alt=&quot;&quot; style=&quot;border: none; max-width: 100%;&quot;/&gt;&lt;br/&gt;&lt;br/&gt;2.3 对象的方法的回调&lt;br/&gt;&lt;br/&gt;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;我先用最原始的字符串形式的调用方法尝试了一下，如下所示：&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;class MyClass&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;private $name = &amp;#39;abc&amp;#39;;&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;public function fnCallBack( $msg1 = &amp;#39;default msg1&amp;#39; , $msg2 = &amp;#39;default msg2&amp;#39; )&lt;br/&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; echo &amp;#39;object name:&amp;#39;.$this-&amp;gt;name;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; echo &amp;quot;&amp;lt;br /&amp;gt;\\n&amp;quot;;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; echo &amp;#39;msg1:&amp;#39;.$msg1;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;echo &amp;quot;&amp;lt;br /&amp;gt;\\n&amp;quot;;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;echo &amp;#39;msg2:&amp;#39;.$msg2;&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;}&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;}&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$myobj = new MyClass();&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$fnName = &amp;quot;fnCallBack&amp;quot;;&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$params = array( &amp;#39;hello&amp;#39; , &amp;#39;world&amp;#39; );&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$myobj-&amp;gt;$fnName();&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;结果：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;img src=&quot;http://img.blog.csdn.net/20150816155859867?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center&quot; alt=&quot;&quot; style=&quot;border: none; max-width: 100%;&quot;/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; background-color: rgb(255, 255, 255); font-size: 18px;&quot;&gt;调用是成功了，不过如何把参数params传给这个方法呢，如果把params直接传进去，那么它会作为1个参数，怎么把params拆开来传进去呢？查了下PHP手册，找到了create_function函数，这个方法可以用字符串来创建一个匿名函数，好，有思路了，可以创建一个匿名的函数，在这个匿名函数中，调用我们的回调函数，并把参数传进去。&lt;br/&gt;我先手动创建一个匿名函数anonymous，在这个函数中，用前面试出来的方法调用回调函数，如下所示：&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;class MyClass&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;private $name = &amp;#39;abc&amp;#39;;&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;public function fnCallBack( $msg1 = &amp;#39;default msg1&amp;#39; , $msg2 = &amp;#39;default msg2&amp;#39; )&lt;br/&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;echo &amp;#39;object name:&amp;#39;.$this-&amp;gt;name;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp;echo &amp;quot;&amp;lt;br /&amp;gt;\\n&amp;quot;;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;echo &amp;#39;msg1:&amp;#39;.$msg1;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;echo &amp;quot;&amp;lt;br /&amp;gt;\\n&amp;quot;;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;echo &amp;#39;msg2:&amp;#39;.$msg2;&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;}&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;}&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$myobj = new MyClass();&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$fnName = &amp;quot;fnCallBack&amp;quot;;&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$params = array( &amp;#39;hello&amp;#39; , &amp;#39;world&amp;#39; );&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;//匿名函数的构建&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;function anonymous()&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; global $myobj;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; global $fnName;&lt;br/&gt;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp; global $params;&lt;br/&gt;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp; $myobj-&amp;gt;$fnName( $params[0] , $params[1] );&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;}&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;anonymous();&lt;br/&gt;&lt;br/&gt;成功了。效果如下：&lt;br/&gt;&lt;img src=&quot;http://img.blog.csdn.net/20150816160046423?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center&quot; alt=&quot;&quot; style=&quot;border: none; max-width: 100%;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','1491815825') [ RunTime:0.1228s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000035s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000092s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.079315s ]
INFO: [ view_parse ] --END-- [ RunTime:0.079371s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000149s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000171s ]
SQL: SHOW COLUMNS FROM `bk_category` [ RunTime:0.0432s ]
SQL: SELECT * FROM `bk_category`  [ RunTime:0.0288s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000082s ]
INFO: [ template_filter ] --END-- [ RunTime:-0.207187s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.145712s ]
INFO: [ view_parse ] --END-- [ RunTime:-0.072722s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000013s ]
INFO: [ view_filter ] --END-- [ RunTime:-0.218341s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.013784s ]
INFO: [ app_end ] --END-- [ RunTime:0.013888s ]

[ 2017-04-10T17:17:09+08:00 ] 104.236.91.224 /Admin.php/Blog/add.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000024s ]
INFO: [ app_init ] --END-- [ RunTime:0.022151s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.023749s ]
INFO: [ app_begin ] --END-- [ RunTime:0.023842s ]
SQL: SHOW COLUMNS FROM `bk_category` [ RunTime:0.0264s ]
SQL: SELECT * FROM `bk_category`  [ RunTime:0.0260s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000079s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000149s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.252579s ]
INFO: [ view_parse ] --END-- [ RunTime:0.252643s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000148s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000176s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.049616s ]
INFO: [ app_end ] --END-- [ RunTime:0.049677s ]

[ 2017-04-10T17:29:39+08:00 ] 116.23.231.31 /Admin.php/Blog/add.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000017s ]
INFO: [ app_init ] --END-- [ RunTime:0.000326s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.047717s ]
INFO: [ app_begin ] --END-- [ RunTime:0.047814s ]
SQL: SHOW COLUMNS FROM `bk_article` [ RunTime:0.0263s ]
NOTIC: [8] Undefined index: validate /web/www/blog/tp3/ThinkPHP/Library/Think/Model.class.php 第 1185 行.
NOTIC: [8] Undefined index: auto /web/www/blog/tp3/ThinkPHP/Library/Think/Model.class.php 第 1128 行.
SQL: INSERT INTO `bk_article` (`title`,`cate_id`,`introduction`,`content`,`addtime`) VALUES ('事件机制','1','事件机制','&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong&gt;主要功能：&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;1.绑定事件 支持一个事件绑定多个动作，支持绑定一次性事件&lt;br/&gt;2.触发事件&lt;br/&gt;3.注销事件&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;line-height: 21.6px; font-size: 12px; float: right;&quot;&gt;&lt;a data=&quot;75642&quot; class=&quot;copybut&quot; id=&quot;copybut75642&quot; style=&quot;color: rgb(51, 51, 51); cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;复制代码&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;class Event&amp;nbsp;&lt;br/&gt;{&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; protected static $listens&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; = array();&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; public static function listen($event, $callback, $once=false){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if(!is_callable($callback)) return false;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; self::$listens[$event][]&amp;nbsp;&amp;nbsp;&amp;nbsp; = array(&amp;#39;callback&amp;#39;=&amp;gt;$callback, &amp;#39;once&amp;#39;=&amp;gt;$once);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; return true;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; public static function one($event, $callback){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; return self::listen($event, $callback, true);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; public static function remove($event, $index=null){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if(is_null($index))&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; unset(self::$listens[$event]);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; else&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; unset(self::$listens[$event][$index]);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; public static function trigger(){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if(!func_num_args()) return;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $args&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; = func_get_args();&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $event&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; = array_shift($args);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if(!isset(self::$listens[$event])) return false;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; foreach((array) self::$listens[$event] as $index=&amp;gt;$listen){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $callback&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; = $listen[&amp;#39;callback&amp;#39;];&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $listen[&amp;#39;once&amp;#39;] &amp;amp;&amp;amp; self::remove($event, $index);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; call_user_func_array($callback, $args);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;}&lt;/p&gt;&lt;p&gt;&lt;br style=&quot;font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;以下是一些调用的例子：&lt;/span&gt;&lt;br style=&quot;font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;line-height: 21.6px; font-size: 12px; float: right;&quot;&gt;&lt;a data=&quot;67356&quot; class=&quot;copybut&quot; id=&quot;copybut67356&quot; style=&quot;color: rgb(51, 51, 51); cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;复制代码&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;// 增加监听walk事件&amp;nbsp;&lt;br/&gt;Event::listen(&amp;#39;walk&amp;#39;, function(){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;I am walking...n&amp;quot;;&amp;nbsp;&lt;br/&gt;});&amp;nbsp;&lt;br/&gt;// 增加监听walk一次性事件&amp;nbsp;&lt;br/&gt;Event::listen(&amp;#39;walk&amp;#39;, function(){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;I am listening...n&amp;quot;;&amp;nbsp;&lt;br/&gt;}, true);&amp;nbsp;&lt;br/&gt;// 触发walk事件&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;walk&amp;#39;);&amp;nbsp;&lt;br/&gt;/*&amp;nbsp;&lt;br/&gt;I am walking...&amp;nbsp;&lt;br/&gt;I am listening...&amp;nbsp;&lt;br/&gt;*/&lt;br/&gt;Event::trigger(&amp;#39;walk&amp;#39;);&amp;nbsp;&lt;br/&gt;/*&amp;nbsp;&lt;br/&gt;I am walking...&amp;nbsp;&lt;br/&gt;*/&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;Event::one(&amp;#39;say&amp;#39;, function($name=&amp;#39;&amp;#39;){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;I am {$name}n&amp;quot;;&amp;nbsp;&lt;br/&gt;});&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;say&amp;#39;, &amp;#39;deeka&amp;#39;); // 输出 I am deeka&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;say&amp;#39;, &amp;#39;deeka&amp;#39;); // not run&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;class Foo&amp;nbsp;&lt;br/&gt;{&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; public function bar(){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;Foo::bar() is calledn&amp;quot;;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; public function test(){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;Foo::foo() is called, agrs:&amp;quot;.json_encode(func_get_args()).&amp;quot;n&amp;quot;;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;}&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;$foo&amp;nbsp;&amp;nbsp;&amp;nbsp; = new Foo;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;Event::listen(&amp;#39;bar&amp;#39;, array($foo, &amp;#39;bar&amp;#39;));&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;bar&amp;#39;);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;Event::listen(&amp;#39;test&amp;#39;, array($foo, &amp;#39;test&amp;#39;));&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;test&amp;#39;, 1, 2, 3);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;class Bar&amp;nbsp;&lt;br/&gt;{&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; public static function foo(){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;Bar::foo() is calledn&amp;quot;;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;}&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;Event::listen(&amp;#39;bar1&amp;#39;, array(&amp;#39;Bar&amp;#39;, &amp;#39;foo&amp;#39;));&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;bar1&amp;#39;);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;Event::listen(&amp;#39;bar2&amp;#39;, &amp;#39;Bar::foo&amp;#39;);&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;bar2&amp;#39;);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;function bar(){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;bar() is calledn&amp;quot;;&amp;nbsp;&lt;br/&gt;}&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;Event::listen(&amp;#39;bar3&amp;#39;, &amp;#39;bar&amp;#39;);&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;bar3&amp;#39;);&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','1491816578') [ RunTime:0.0317s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000036s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000095s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.127832s ]
INFO: [ view_parse ] --END-- [ RunTime:0.127909s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000307s ]
SQL: SHOW COLUMNS FROM `bk_category` [ RunTime:0.0403s ]
SQL: SELECT * FROM `bk_category`  [ RunTime:0.0268s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000062s ]
INFO: [ template_filter ] --END-- [ RunTime:-0.199580s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.087573s ]
INFO: [ view_parse ] --END-- [ RunTime:-0.068052s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.045087s ]
INFO: [ view_filter ] --END-- [ RunTime:-0.155337s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000549s ]
INFO: [ app_end ] --END-- [ RunTime:0.000620s ]

[ 2017-04-10T17:29:41+08:00 ] 116.23.231.31 /Admin.php/Blog/add.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.046427s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.030965s ]
INFO: [ app_begin ] --END-- [ RunTime:0.031023s ]
SQL: SHOW COLUMNS FROM `bk_category` [ RunTime:0.0260s ]
SQL: SELECT * FROM `bk_category`  [ RunTime:0.0259s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000079s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000151s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.165170s ]
INFO: [ view_parse ] --END-- [ RunTime:0.165223s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.046338s ]
INFO: [ view_filter ] --END-- [ RunTime:0.046400s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000590s ]
INFO: [ app_end ] --END-- [ RunTime:0.000624s ]

